<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Invoice</title>

    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
        }
        h2 { 
            text-align: center; 
            margin-bottom: 30px; 
        }
        .section { 
            margin-bottom: 25px; 
        }
        .label { 
            font-weight: bold; 
        }
        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        .table th, .table td {
            padding: 8px;
            border: 1px solid #444;
        }
        .table th {
            background-color: #f0f0f0;
            text-align: left;
        }
        .footer {
            margin-top: 40px;
            font-size: 12px;
            text-align: center;
            color: #777;
        }
    </style>
</head>

<body>

<h2>Guardian Hospital â€“ Payment Invoice</h2>

<!-- Patient Information -->
<div class="section">
    <h3>Patient Information</h3>
    <p><span class="label">Name:</span> {{ payment.patient.fname }} {{ payment.patient.lname }}</p>
    <p><span class="label">Gender:</span> {{ payment.patient.gender }}</p>
    <p><span class="label">Phone:</span> {{ payment.patient.phone }}</p>
    <p><span class="label">Email:</span> {{ payment.patient.email }}</p>
    <p><span class="label">Address:</span> {{ payment.patient.address }}</p>
</div>

<hr>

<!-- Consultation Information -->
<div class="section">
    <h3>Consultation Details</h3>
    <p><span class="label">Consultation ID:</span> {{ payment.consultation.id }}</p>
    <p><span class="label">Consultation Date:</span> {{ payment.consultation.created_at|date:"d M Y H:i" }}</p>
    <p><span class="label">Consultant Doctor:</span> Dr. {{ payment.consultation.doctor.fname }} {{ payment.consultation.doctor.lname }}</p>
</div>

<hr>

<!-- Payment Information -->
<div class="section">
    <h3>Payment Details</h3>
    <p><span class="label">Invoice ID:</span> {{ payment.id }}</p>
    <p><span class="label">Payment Date:</span> {{ payment.created_at|date:"d M Y H:i" }}</p>
    <p><span class="label">Payment Method:</span> {{ payment.get_payment_method_display }}</p>

    <table class="table">
        <tr>
            <th>Description</th>
            <th>Amount (Ks)</th>
        </tr>
        
        <tr>
            <td>Consultation Fee</td>
            <td>{{ payment.consultation_fee }}</td>
        </tr>
        <tr>
            <td>Medication Fee</td>
            <td>{{ payment.medication_fee }}</td>
        </tr>
        <tr>
            <td>Lab Test Fee</td>
            <td>{{ payment.test_fee }}</td>
        </tr>

    </table>

    <p style="font-size: 18px; margin-top: 15px;">
        <span class="label">Total Amount:</span> {{ payment.total_amount }} Ks
    </p>
    <p>
        <span class="label">Amount Paid:</span> {{ payment.amount_paid }} Ks
    </p>
    <p>
        <span class="label">Status:</span> {{ payment.status|capfirst }}
    </p>
</div>

<hr>

<div class="footer">
    This invoice was generated electronically by the Guardian Hospital OMS system.<br>
    For any inquiries, please contact the hospital administration office.
</div>

</body>
</html>
